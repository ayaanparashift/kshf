// import React from "react";
// import LineHead from "./Heading/LineHead";
// import Link from "next/link";

// const Bento = ({}) => {
//   return (
//     <div className="flex pt-0 md:pt-[20px] sm:flex-row flex-col gap-[10px] items-center justify-between h-fit">
//       <Link
//         href="/blogs/the-evolution-of-grade-a-industrial-and-logistics-parks-trends-and-insights"
//         className={`h-[585px] md:hover:translate-y-[-10px] transition-[transform] duration-300 ease-in-out w-full sm:w-[33%] cursor-pointer xl:w-[385px] bg-[url(https://www.kshinfra.com/wp-content/uploads/2025/02/1.jpg)] flex flex-col justify-end  px-4 xl:px-[25px] pb-[20px] gap-[10px] relative`}
//       >
//         <div className="absolute bg-[linear-gradient(to top, black, transparent)] bottom-0 left-0 w-full h-1/2 z-40"></div>
//         <p
//           className="fsans-400 text-[22px] leading-[130%] text-white"
//
//         >
//           The Evolution of Grade A Industrial and Logistics Parks: Trends and
//           Insights
//         </p>
//         <p
//           className="fsans-400 text-[16px] leading-[130%] text-white opacity-50"
//
//         >
//           14 Dec 24
//         </p>
//         <button>
//           <img className="h-10 w-10" src="/buttonarrows/bentor1.svg" alt="r1" />
//         </button>
//       </Link>
//       <Link
//         href="/blogs/why-sustainable-industrial-and-logistics-parks-is-the-need-of-the-hour-for-indian-industry-2"
//         className={`h-[585px] md:hover:translate-y-[-10px] transition-[transform] duration-300 ease-in-out w-full sm:w-[33%] cursor-pointer xl:w-[315px] bg-[url(https://www.kshinfra.com/wp-content/uploads/2025/02/freepik__the-style-is-candid-image-photography-with-natural__24755.png)] flex flex-col justify-end px-4 xl:px-[31px] pb-[20px] sm:pt-[50px] gap-[10px]`}
//       >
//         <p className="fsans-400 text-[22px] leading-[130%] text-white sm:text-[#092241]">
//           Why Sustainable Industrial and Logistics Parks is the Need of the Hour
//           for Indian Industry
//         </p>
//         <p className="fsans-400 text-[16px] leading-[130%] text-white sm:text-[#6C8DAB] sm:opacity-50">
//           14 Dec 24
//         </p>
//         <button>
//           <img className="h-10 w-10" src="/buttonarrows/bentor2.svg" alt="r1" />
//         </button>
//       </Link>
//       <div
//         className={`h-[578px] transition-[transform] duration-300 w-full sm:w-[33%] cursor-pointer xl:w-[515px] flex justify-end flex-col-reverse sm:flex-col gap-[30px]`}
//       >
//         <Link
//           href="/blogs/the-impact-of-ergonomics-on-worker-productivity-and-safety"
//           className={`md:hover:translate-y-[-10px] transition-[transform] duration-300 ease-in-out h-[479px] bg-[url(https://www.kshinfra.com/wp-content/uploads/2025/01/corridor-1280-inside-1280-warehouse-1280-dedicated-1280-selfstorage.webp)] flex flex-col items-start justify-end px-4 xl:pl-[50px] xl:pr-[125px] pb-[20px] gap-[10px]`}
//
//         >
//           <p className="fsans-400 text-[22px] leading-[130%] text-white">
//             The Impact of Ergonomics on Worker Productivity and Safety
//           </p>
//           <p className="fsans-400 text-[16px] leading-[130%] text-white opacity-50">
//             14 Dec 24
//           </p>
//           <button>
//             <img
//               className="h-10 w-10"
//               src="/buttonarrows/bentor1.svg"
//               alt="r1"
//             />
//           </button>
//         </Link>
//       </div>
//     </div>
//   );
// };

// export default Bento;

// import React from "react";
// import Link from "next/link";

// const Bento = ({}) => {
//   return (
//     <div className="flex pt-0 md:pt-[20px] sm:flex-row flex-col gap-[20px] items-center justify-between h-fit">
//       {/* Card 1 */}
//       <Link
//         href="blogs/how-ksh-infras-grade-a-industrial-parks-power-operational-efficiency-for-modern-businesses"
//         className="relative h-[585px] md:hover:translate-y-[-10px] transition-[transform] duration-300 ease-in-out w-full sm:w-[33%] cursor-pointer xl:w-[385px]    bg-[url('https://www.kshinfra.com/wp-content/uploads/2025/02/1.jpg')] flex flex-col justify-end px-4 xl:px-[25px] pb-[20px] gap-[10px]"
//       >
//         <div className="absolute bottom-0 left-0 w-full h-1/2 bg-gradient-to-t from-gray-900 to-transparent z-40" />
//         <p className="fsans-400 text-[22px] leading-[130%] text-white relative z-50 line-clamp-3">
//           How KSH INFRA’s Grade A Industrial Parks Power Operational Efficiency
//           for Modern Businesses
//         </p>
//         <p className="fsans-400 text-[16px] leading-[130%] text-white opacity-50 relative z-50">
//           29 Apr 25
//         </p>
//         <button className="relative z-50">
//           <img className="h-10 w-10" src="/buttonarrows/bentor1.svg" alt="r1" />
//         </button>
//       </Link>

//       {/* Card 2 */}
//       <Link
//         href="blogs/how-industrial-parks-drive-local-economic-growth-in-india"
//         className="relative h-[585px] md:hover:translate-y-[-10px] transition-[transform] duration-300 ease-in-out w-full sm:w-[33%] cursor-pointer xl:w-[315px] bg-[url(https://www.kshinfra.com/wp-content/uploads/2025/04/240_1.webp)] flex flex-col justify-end px-4 xl:px-[31px] pb-[20px] sm:pt-[50px] gap-[10px]"
//       >
//         <div className="absolute bottom-0 left-0 w-full h-1/2 bg-gradient-to-t from-gray-900 to-transparent z-40" />
//         <p className="fsans-400 text-[22px] leading-[130%] text-white relative z-50 line-clamp-3">
//           How Industrial Parks Drive Local Economic Growth in India
//         </p>
//         <p className="fsans-400 text-[16px] leading-[130%] text-white opacity-50 relative z-50">
//           22 Apr 25
//         </p>
//         <button className="relative z-50">
//           <img className="h-10 w-10" src="/buttonarrows/bentor1.svg" alt="r1" />
//         </button>
//       </Link>

//       {/* Card 3 */}
//       <div className="relative h-[578px] transition-[transform] duration-300 w-full sm:w-[33%] cursor-pointer xl:w-[515px] flex justify-end flex-col-reverse sm:flex-col gap-[30px]">
//         <Link
//           href="blogs/the-evolution-of-grade-a-industrial-and-logistics-parks-trends-and-insights"
//           className="relative md:hover:translate-y-[-10px] transition-[transform] duration-300 ease-in-out h-[479px] bg-[url(https://www.kshinfra.com/wp-content/uploads/2025/02/1.jpg)] flex flex-col items-start justify-end px-4 xl:pl-[50px] xl:pr-[125px] pb-[20px] gap-[10px]"
//         >
//           <div className="absolute bottom-0 left-0 w-full h-1/2 bg-gradient-to-t from-gray-900 to-transparent z-40" />
//           <p className="fsans-400 text-[22px] leading-[130%] text-white relative z-50 line-clamp-3">
//             The Evolution of Grade A Industrial and Logistics Parks: Trends and
//             Insights
//           </p>
//           <p className="fsans-400 text-[16px] leading-[130%] text-white opacity-50 relative z-50">
//             17 Feb 25
//           </p>
//           <button className="relative z-50">
//             <img
//               className="h-10 w-10"
//               src="/buttonarrows/bentor1.svg"
//               alt="r1"
//             />
//           </button>
//         </Link>
//       </div>
//     </div>
//   );
// };

// export default Bento;

import React, { useEffect, useState } from "react";
import Link from "next/link";

// Function to fetch blog data

// ✅ Helper to format date as "4 Apr 2025"
const formatDate = (dateString) => {
  const date = new Date(dateString);
  return date.toLocaleDateString("en-GB", {
    day: "numeric",
    month: "short",
    year: "numeric",
  });
};

// ✅ Blog fetcher
const fetchBlogByPage = async () => {
  const resp = await fetch(
    `https://www.kshinfra.com/wp-json/wp/v2/posts?per_page=3&page=1`,
    { next: { revalidate: 60 } }
  );

  if (!resp.ok) {
    throw new Error("Failed to fetch data");
  }

  const data = await resp.json();
  const totalPages = parseInt(resp.headers.get("X-WP-TotalPages") || "1", 10);
  return { data, totalPages };
};

const Bento = () => {
  const [blogs, setBlogs] = useState([]);
  const [loading, setLoading] = useState(true);

  useEffect(() => {
    const fetchData = async () => {
      try {
        const { data } = await fetchBlogByPage();
        setBlogs(data);
      } catch (error) {
        console.error("Error fetching blogs:", error);
      } finally {
        setLoading(false);
      }
    };

    fetchData();
  }, []);
  if (loading) {
    return (
      <div className="bg-[#092241] min-h-screen flex items-center justify-center">
        <div className="text-white text-xl">Loading...</div>
      </div>
    );
  }

  return (
    <div className="flex pt-0 md:pt-[20px] sm:flex-row flex-col gap-[20px] items-center justify-between h-fit">
      {/* Card 1 */}
      <Link
        href={`/blogs/${blogs[0].slug}`}
        className="relative h-[585px] md:hover:translate-y-[-10px] transition-[transform] duration-300 ease-in-out w-full sm:w-[33%] cursor-pointer xl:w-[385px] flex flex-col justify-end px-4 xl:px-[25px] pb-[20px] gap-[10px]"
        style={{
          background: `url(${blogs[0].yoast_head_json?.schema?.["@graph"]?.[0]?.thumbnailUrl})`,
          backgroundPosition: "center center",
          backgroundRepeat: "no-repeat",
          backgroundSize: "cover",
        }}
      >
        <div className="absolute bottom-0 left-0 w-full h-1/2 bg-gradient-to-t from-gray-900 to-transparent z-40" />
        <p
          dangerouslySetInnerHTML={{ __html: blogs[0].title?.rendered }}
          className="fsans-400 text-[22px] leading-[130%] text-white relative z-50 line-clamp-3"
        ></p>
        <p className="fsans-400 text-[16px] leading-[130%] text-white opacity-50 relative z-50">
          {formatDate(blogs[0].date)}
        </p>
        <button className="relative z-50">
          <img className="h-10 w-10" src="/buttonarrows/bentor1.svg" alt="r1" />
        </button>
      </Link>

      {/* Card 2 */}
      <Link
        href={`/blogs/${blogs[1].slug}`}
        className="relative h-[585px] md:hover:translate-y-[-10px] transition-[transform] duration-300 ease-in-out w-full sm:w-[33%] cursor-pointer xl:w-[315px] flex flex-col justify-end px-4 xl:px-[31px] pb-[20px] sm:pt-[50px] gap-[10px]"
        style={{
          background: `url(${blogs[1].yoast_head_json?.schema?.["@graph"]?.[0]?.thumbnailUrl})`,
          backgroundPosition: "center center",
          backgroundRepeat: "no-repeat",
          backgroundSize: "cover",
        }}
      >
        <div className="absolute bottom-0 left-0 w-full h-1/2 bg-gradient-to-t from-gray-900 to-transparent z-40" />
        <p
          dangerouslySetInnerHTML={{ __html: blogs[1].title?.rendered }}
          className="fsans-400 text-[22px] leading-[130%] text-white relative z-50 line-clamp-3"
        ></p>
        <p className="fsans-400 text-[16px] leading-[130%] text-white opacity-50 relative z-50">
          {formatDate(blogs[1].date)}
        </p>
        <button className="relative z-50">
          <img className="h-10 w-10" src="/buttonarrows/bentor1.svg" alt="r1" />
        </button>
      </Link>

      {/* Card 3 */}
      <div className="relative h-[578px] transition-[transform] duration-300 w-full sm:w-[33%] xl:w-[515px] flex justify-end flex-col-reverse sm:flex-col gap-[30px]">
        <Link
          href={`/blogs/${blogs[2].slug}`}
          className="relative md:hover:translate-y-[-10px] transition-[transform] duration-300 ease-in-out h-[479px] flex flex-col items-start justify-end px-4 xl:px-[50px] pb-[20px] gap-[10px] cursor-pointer"
          style={{
            background: `url(${blogs[2].yoast_head_json?.schema?.["@graph"]?.[0]?.thumbnailUrl})`,
            backgroundPosition: "center center",
            backgroundRepeat: "no-repeat",
            backgroundSize: "cover",
          }}
        >
          <div className="absolute bottom-0 left-0 w-full h-1/2 bg-gradient-to-t from-gray-900 to-transparent z-40" />
          <p
            dangerouslySetInnerHTML={{ __html: blogs[2].title?.rendered }}
            className="fsans-400 text-[22px] leading-[130%] text-white relative z-50 line-clamp-3"
          ></p>
          <p className="fsans-400 text-[16px] leading-[130%] text-white opacity-50 relative z-50">
            {formatDate(blogs[2].date)}
          </p>
          <button className="relative z-50">
            <img
              className="h-10 w-10"
              src="/buttonarrows/bentor1.svg"
              alt="r1"
            />
          </button>
        </Link>
      </div>
    </div>
  );
};
export default Bento;
