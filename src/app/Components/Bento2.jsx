// import React from "react";
// import LineHead from "./Heading/LineHead";
// import Link from "next/link";

// const Bento2 = ({}) => {
//   return (
//     <div className="flex pt-0 md:pt-[20px] sm:flex-row flex-col gap-[10px] items-center justify-between h-fit">
//       <Link
//         href="/blogs/top-challenges-in-logistics-and-industrial-real-estate-development-and-how-ksh-infra-solves-them"
//         className={`h-[585px] md:hover:translate-y-[-10px] transition-[transform] duration-300 ease-in-out w-full sm:w-[33%] cursor-pointer xl:w-[385px] bg-[url(https://www.kshinfra.com/wp-content/uploads/2025/01/transport-1280-logistics-1280-concept.webp)] flex flex-col justify-end  px-4 xl:px-[25px] pb-[20px] gap-[10px]`}
//       >
//         <p
//           className="fsans-400 text-[22px] leading-[130%] text-white"
//
//         >
//           Top Challenges in Logistics and Industrial Real Estate Development—and
//           How KSH INFRA Solves Them
//         </p>
//         <p
//           className="fsans-400 text-[16px] leading-[130%] text-white opacity-50"
//
//         >
//           14 Dec 24
//         </p>
//         <button>
//           <img className="h-10 w-10" src="/buttonarrows/bentor1.svg" alt="r1" />
//         </button>
//       </Link>
//       <Link
//         href="/blogs/how-grade-a-industrial-parks-aid-the-7-principles-of-lean-manufacturing"
//         className={`h-[585px] md:hover:translate-y-[-10px] transition-[transform] duration-300 ease-in-out w-full sm:w-[33%] cursor-pointer xl:w-[315px] bg-[url(https://www.kshinfra.com/wp-content/uploads/2024/11/How-Grade-A-Industrial-Parks-Aid-the-7-Principles-of-Lean-Manufacturing.png)] flex flex-col justify-end sm:justify-start px-4 xl:px-[31px] pb-[20px] sm:pt-[50px] gap-[10px]`}
//       >
//         <p className="fsans-400 text-[22px] leading-[130%] text-white sm:text-[#092241]">
//           How Grade A Industrial Parks Aid the 7 Principles of Lean
//           Manufacturing
//         </p>
//         <p className="fsans-400 text-[16px] leading-[130%] text-white sm:text-[#6C8DAB] sm:opacity-50">
//           14 Dec 24
//         </p>
//         <button>
//           <img className="h-10 w-10" src="/buttonarrows/bentor2.svg" alt="r1" />
//         </button>
//       </Link>
//       <div
//         className={`h-[578px] transition-[transform] duration-300 w-full sm:w-[33%] cursor-pointer xl:w-[515px] flex justify-end flex-col-reverse sm:flex-col gap-[30px]`}
//       >
//         <Link
//           href="/blogs/physical-security-in-manufacturing-prioritizing-people-over-perimeters"
//           className={`md:hover:translate-y-[-10px] transition-[transform] duration-300 ease-in-out h-[479px] bg-[url(https://www.kshinfra.com/wp-content/uploads/2024/11/Physical-Security-in-Manufacturing-Prioritizing-People-Over-Perimeters.png)] flex flex-col items-start justify-end px-4 xl:pl-[50px] xl:pr-[125px] pb-[20px] gap-[10px]`}
//
//         >
//           <p className="fsans-400 text-[22px] leading-[130%] text-white">
//             Physical Security in Manufacturing: Prioritizing People Over
//             Perimeters
//           </p>
//           <p className="fsans-400 text-[16px] leading-[130%] text-white opacity-50">
//             14 Dec 24
//           </p>
//           <button>
//             <img
//               className="h-10 w-10"
//               src="/buttonarrows/bentor1.svg"
//               alt="r1"
//             />
//           </button>
//         </Link>
//       </div>
//     </div>
//   );
// };

// export default Bento2;

// import React from "react";
// import Link from "next/link";

// const Bento2 = () => {
//   return (
//     <div className="flex pt-0 md:pt-[20px] sm:flex-row flex-col gap-[20px] items-center justify-between h-fit">
//       {/* Card 1 */}
//       <Link
//         href="/blogs/why-sustainable-industrial-and-logistics-parks-is-the-need-of-the-hour-for-indian-industry-2"
//         className="relative h-[585px] md:hover:translate-y-[-10px] transition-[transform] duration-300 ease-in-out w-full sm:w-[33%] cursor-pointer xl:w-[385px] bg-[url(https://www.kshinfra.com/wp-content/uploads/2025/02/freepik__the-style-is-candid-image-photography-with-natural__24755.png)] flex flex-col justify-end px-4 xl:px-[25px] pb-[20px] gap-[10px]"
//       >
//         <div className="absolute bottom-0 left-0 w-full h-1/2 bg-gradient-to-t from-gray-900 to-transparent z-40" />
//         <p className="fsans-400 text-[22px] leading-[130%] text-white relative z-50 line-clamp-3">
//           Why Sustainable Industrial and Logistics Parks is the Need of the Hour
//           for Indian Industry
//         </p>
//         <p className="fsans-400 text-[16px] leading-[130%] text-white opacity-50 relative z-50">
//           15 Feb 25
//         </p>
//         <button className="relative z-50">
//           <img className="h-10 w-10" src="/buttonarrows/bentor1.svg" alt="r1" />
//         </button>
//       </Link>

//       {/* Card 2 */}
//       <Link
//         href="/blogs/the-impact-of-ergonomics-on-worker-productivity-and-safety"
//         className="relative h-[585px] md:hover:translate-y-[-10px] transition-[transform] duration-300 ease-in-out w-full sm:w-[33%] cursor-pointer xl:w-[315px] bg-[url(https://www.kshinfra.com/wp-content/uploads/2025/01/corridor-1280-inside-1280-warehouse-1280-dedicated-1280-selfstorage.webp)] flex flex-col justify-end px-4 xl:px-[31px] pb-[20px] sm:pt-[50px] gap-[10px]"
//       >
//         <div className="absolute bottom-0 left-0 w-full h-1/2 bg-gradient-to-t from-gray-900 to-transparent z-40" />
//         <p className="fsans-400 text-[22px] leading-[130%] text-white relative z-50 line-clamp-3">
//           The Impact of Ergonomics on Worker Productivity and Safety
//         </p>
//         <p className="fsans-400 text-[16px] leading-[130%] text-white opacity-50 relative z-50">
//           4 Jan 25
//         </p>
//         <button className="relative z-50">
//           <img className="h-10 w-10" src="/buttonarrows/bentor1.svg" alt="r1" />
//         </button>
//       </Link>

//       {/* Card 3 */}
//       <div className="relative h-[578px] transition-[transform] duration-300 w-full sm:w-[33%] cursor-pointer xl:w-[515px] flex justify-end flex-col-reverse sm:flex-col gap-[30px]">
//         <Link
//           href="/blogs/top-challenges-in-logistics-and-industrial-real-estate-development-and-how-ksh-infra-solves-them"
//           className="relative md:hover:translate-y-[-10px] transition-[transform] duration-300 ease-in-out h-[479px] bg-[url(https://www.kshinfra.com/wp-content/uploads/2025/01/transport-1280-logistics-1280-concept.webp)] flex flex-col items-start justify-end px-4 xl:pl-[50px] xl:pr-[125px] pb-[20px] gap-[10px]"
//         >
//           <div className="absolute bottom-0 left-0 w-full h-1/2 bg-gradient-to-t from-gray-900 to-transparent z-40" />
//           <p className="fsans-400 text-[22px] leading-[130%] text-white relative z-50 line-clamp-3">
//             Top Challenges in Logistics and Industrial Real Estate
//             Development—and How KSH INFRA Solves Them
//           </p>
//           <p className="fsans-400 text-[16px] leading-[130%] text-white opacity-50 relative z-50">
//             4 Jan 25
//           </p>
//           <button className="relative z-50">
//             <img
//               className="h-10 w-10"
//               src="/buttonarrows/bentor1.svg"
//               alt="r1"
//             />
//           </button>
//         </Link>
//       </div>
//     </div>
//   );
// };

// export default Bento2;

import React, { useState, useEffect } from "react";
import Link from "next/link";

const fetchBlogByPage = async () => {
  const resp = await fetch(
    `https://www.kshinfra.com/wp-json/wp/v2/posts?per_page=6&page=1`,
    { next: { revalidate: 60 } }
  );

  if (!resp.ok) {
    throw new Error("Failed to fetch blog data");
  }

  const data = await resp.json();
  return data;
};

const Bento2 = () => {
  const [blogs, setBlogs] = useState([]);
  const [loading, setLoading] = useState(true);

  useEffect(() => {
    const fetchData = async () => {
      try {
        const blogData = await fetchBlogByPage();
        setBlogs(blogData);
      } catch (error) {
        console.error("Error fetching blogs:", error);
      } finally {
        setLoading(false);
      }
    };

    fetchData();
  }, []);

  if (loading) {
    return (
      <div className="bg-[#092241] min-h-screen flex items-center justify-center">
        <div className="text-white text-xl">Loading...</div>
      </div>
    );
  }

  if (blogs.length < 6) return <div>Not enough blogs to display.</div>;

  return (
    <div className="flex pt-0 md:pt-[20px] sm:flex-row flex-col gap-[20px] items-center justify-between h-fit">
      {/* Card 1 */}
      <Link
        href={`/blogs/${blogs[3].slug}`}
        className="relative h-[585px] md:hover:translate-y-[-10px] transition-[transform] duration-300 ease-in-out w-full sm:w-[33%] cursor-pointer xl:w-[385px] flex flex-col justify-end px-4 xl:px-[25px] pb-[20px] gap-[10px]"
        style={{
          background: `url(${blogs[3]?.yoast_head_json?.schema?.["@graph"]?.[0]?.thumbnailUrl})`,
          backgroundPosition: "center center",
          backgroundRepeat: "no-repeat",
          backgroundSize: "cover",
        }}
      >
        <div className="absolute bottom-0 left-0 w-full h-1/2 bg-gradient-to-t from-gray-900 to-transparent z-40" />
        <p
          dangerouslySetInnerHTML={{ __html: blogs[3].title?.rendered }}
          className="fsans-400 text-[22px] leading-[130%] text-white relative z-50 line-clamp-3"
        />
        <p className="fsans-400 text-[16px] leading-[130%] text-white opacity-50 relative z-50">
          15 Feb 25
        </p>
        <button className="relative z-50">
          <img className="h-10 w-10" src="/buttonarrows/bentor1.svg" alt="r1" />
        </button>
      </Link>

      {/* Card 2 */}
      <Link
        href={`/blogs/${blogs[4].slug}`}
        className="relative h-[585px] md:hover:translate-y-[-10px] transition-[transform] duration-300 ease-in-out w-full sm:w-[33%] cursor-pointer xl:w-[315px] flex flex-col justify-end px-4 xl:px-[31px] pb-[20px] sm:pt-[50px] gap-[10px]"
        style={{
          background: `url(${blogs[4]?.yoast_head_json?.schema?.["@graph"]?.[0]?.thumbnailUrl})`,
          backgroundPosition: "center center",
          backgroundRepeat: "no-repeat",
          backgroundSize: "cover",
        }}
      >
        <div className="absolute bottom-0 left-0 w-full h-1/2 bg-gradient-to-t from-gray-900 to-transparent z-40" />
        <p
          dangerouslySetInnerHTML={{ __html: blogs[4].title?.rendered }}
          className="fsans-400 text-[22px] leading-[130%] text-white relative z-50 line-clamp-3"
        />
        <p className="fsans-400 text-[16px] leading-[130%] text-white opacity-50 relative z-50">
          4 Jan 25
        </p>
        <button className="relative z-50">
          <img className="h-10 w-10" src="/buttonarrows/bentor1.svg" alt="r1" />
        </button>
      </Link>

      {/* Card 3 */}
      <div className="relative h-[578px] transition-[transform] duration-300 w-full sm:w-[33%] xl:w-[515px] flex justify-end flex-col-reverse sm:flex-col gap-[30px]">
        <Link
          href={`/blogs/${blogs[5].slug}`}
          className="relative md:hover:translate-y-[-10px] transition-[transform] duration-300 ease-in-out h-[479px] flex flex-col items-start justify-end px-4 xl:px-[50px] pb-[20px] gap-[10px] cursor-pointer"
          style={{
            background: `url(${blogs[5]?.yoast_head_json?.schema?.["@graph"]?.[0]?.thumbnailUrl})`,
            backgroundPosition: "center center",
            backgroundRepeat: "no-repeat",
            backgroundSize: "cover",
          }}
        >
          <div className="absolute bottom-0 left-0 w-full h-1/2 bg-gradient-to-t from-gray-900 to-transparent z-40" />
          <p
            dangerouslySetInnerHTML={{ __html: blogs[5].title?.rendered }}
            className="fsans-400 text-[22px] leading-[130%] text-white relative z-50 line-clamp-3"
          />
          <p className="fsans-400 text-[16px] leading-[130%] text-white opacity-50 relative z-50">
            4 Jan 25
          </p>
          <button className="relative z-50">
            <img
              className="h-10 w-10"
              src="/buttonarrows/bentor1.svg"
              alt="r1"
            />
          </button>
        </Link>
      </div>
    </div>
  );
};

export default Bento2;
